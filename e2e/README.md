# UIè‡ªåŠ¨åŒ–æµ‹è¯•é¡¹ç›®

åŸºäº Playwright çš„ç«¯åˆ°ç«¯ï¼ˆE2Eï¼‰è‡ªåŠ¨åŒ–æµ‹è¯•é¡¹ç›®ï¼Œç”¨äºæµ‹è¯•è§†é¢‘å°é¢ç®¡ç†ç³»ç»Ÿçš„æ‰€æœ‰åŠŸèƒ½ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
e2e/
â”œâ”€â”€ tests/                    # æµ‹è¯•ç”¨ä¾‹ç›®å½•
â”‚   â”œâ”€â”€ auth/                # è®¤è¯ç›¸å…³æµ‹è¯•ï¼ˆç™»å½•ã€æ³¨å†Œã€å¿˜è®°å¯†ç ï¼‰
â”‚   â”œâ”€â”€ profile/             # ä¸ªäººä¸­å¿ƒæµ‹è¯•ï¼ˆä¿®æ”¹å¯†ç ã€ä¸Šä¼ å¤´åƒï¼‰
â”‚   â”œâ”€â”€ cover/               # å°é¢ç®¡ç†æµ‹è¯•ï¼ˆCRUDæ“ä½œï¼‰
â”‚   â”œâ”€â”€ video/               # è§†é¢‘ç®¡ç†æµ‹è¯•ï¼ˆCRUDæ“ä½œï¼‰
â”‚   â”œâ”€â”€ smoke/               # å†’çƒŸæµ‹è¯•ï¼ˆæ ¸å¿ƒåŠŸèƒ½å¿«é€ŸéªŒè¯ï¼‰
â”‚   â””â”€â”€ fixtures/            # æµ‹è¯•å¤¹å…·å’Œå·¥å…·å‡½æ•°
â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ auth.ts             # è®¤è¯ç›¸å…³å·¥å…·
â”‚   â”œâ”€â”€ api.ts              # APIè°ƒç”¨å·¥å…·
â”‚   â””â”€â”€ helpers.ts          # é€šç”¨è¾…åŠ©å‡½æ•°
â”œâ”€â”€ fixtures/                # æµ‹è¯•æ•°æ®
â”‚   â”œâ”€â”€ users.json          # æµ‹è¯•ç”¨æˆ·æ•°æ®
â”‚   â””â”€â”€ test-data.json      # å…¶ä»–æµ‹è¯•æ•°æ®
â”œâ”€â”€ playwright.config.ts     # Playwrighté…ç½®æ–‡ä»¶
â””â”€â”€ package.json            # é¡¹ç›®ä¾èµ–

```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
cd e2e
npm install
```

### 2. å®‰è£…æµè§ˆå™¨

```bash
npm run install:browsers
```

### 3. è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡ŒUIæ¨¡å¼ï¼ˆæ¨èï¼Œå¯è§†åŒ–è°ƒè¯•ï¼‰
npm run test:ui

# è¿è¡Œæœ‰å¤´æ¨¡å¼ï¼ˆå¯ä»¥çœ‹åˆ°æµè§ˆå™¨æ“ä½œï¼‰
npm run test:headed

# è¿è¡Œè°ƒè¯•æ¨¡å¼
npm run test:debug

# è¿è¡Œç‰¹å®šæ¨¡å—æµ‹è¯•
npm run test:auth      # è®¤è¯ç›¸å…³
npm run test:profile   # ä¸ªäººä¸­å¿ƒ
npm run test:cover     # å°é¢ç®¡ç†
npm run test:video     # è§†é¢‘ç®¡ç†
npm run test:smoke     # å†’çƒŸæµ‹è¯•

# æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Š
npm run test:report
```

## ğŸ“ æµ‹è¯•è¦†ç›–èŒƒå›´

### 1. è®¤è¯æ¨¡å— (auth/)
- âœ… ç™»å½•åŠŸèƒ½
  - æ­£å¸¸ç™»å½•
  - é”™è¯¯å¯†ç ç™»å½•
  - å¯†ç æ˜¾ç¤º/éšè—åˆ‡æ¢
  - è®°ä½ç™»å½•çŠ¶æ€
- âœ… æ³¨å†ŒåŠŸèƒ½
  - æ–°ç”¨æˆ·æ³¨å†Œ
  - ç”¨æˆ·åé‡å¤éªŒè¯
  - æ‰‹æœºå·éªŒè¯
  - å¯†ç å¼ºåº¦éªŒè¯
- âœ… å¿˜è®°å¯†ç 
  - æ‰‹æœºå·éªŒè¯æµç¨‹
  - é‚®ç®±éªŒè¯æµç¨‹
  - å¯†ç é‡ç½®

### 2. ä¸ªäººä¸­å¿ƒ (profile/)
- âœ… ä¿®æ”¹å¯†ç 
  - æ—§å¯†ç éªŒè¯
  - æ–°å¯†ç è®¾ç½®
  - å¯†ç å¼ºåº¦æç¤º
- âœ… å¤´åƒä¸Šä¼ 
  - å›¾ç‰‡é€‰æ‹©
  - å›¾ç‰‡è£å‰ª
  - å¤´åƒæ›´æ–°

### 3. å°é¢ç®¡ç† (cover/)
- âœ… å°é¢åˆ—è¡¨
  - åˆ—è¡¨åŠ è½½
  - æœç´¢åŠŸèƒ½
  - åˆ†é¡µï¼ˆå¦‚æœ‰ï¼‰
- âœ… åˆ›å»ºå°é¢
  - è¡¨å•éªŒè¯
  - å›¾ç‰‡URLè¾“å…¥
  - ä¿å­˜æˆåŠŸ
- âœ… ç¼–è¾‘å°é¢
  - æ•°æ®å›å¡«
  - æ›´æ–°ä¿å­˜
- âœ… åˆ é™¤å°é¢
  - åˆ é™¤ç¡®è®¤
  - åˆ é™¤æˆåŠŸ

### 4. è§†é¢‘ç®¡ç† (video/)
- âœ… è§†é¢‘åˆ—è¡¨
- âœ… åˆ›å»ºè§†é¢‘
- âœ… ç¼–è¾‘è§†é¢‘
- âœ… åˆ é™¤è§†é¢‘

### 5. å†’çƒŸæµ‹è¯• (smoke/)
- âœ… æ ¸å¿ƒæµç¨‹å¿«é€ŸéªŒè¯
- âœ… å…³é”®åŠŸèƒ½å¯ç”¨æ€§æ£€æŸ¥

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰ï¼š

```env
BASE_URL=http://localhost:3000
API_URL=http://localhost:5001
TEST_USERNAME=admin
TEST_PASSWORD=123456
```

### æµè§ˆå™¨é…ç½®

åœ¨ `playwright.config.ts` ä¸­å¯ä»¥é…ç½®ï¼š
- æµ‹è¯•è¶…æ—¶æ—¶é—´
- æµè§ˆå™¨ç±»å‹
- è§†å£å¤§å°
- æˆªå›¾å’Œè§†é¢‘å½•åˆ¶

## ğŸ“Š æµ‹è¯•æŠ¥å‘Š

æµ‹è¯•å®Œæˆåï¼Œä¼šè‡ªåŠ¨ç”ŸæˆHTMLæŠ¥å‘Šï¼š

```bash
npm run test:report
```

æŠ¥å‘ŠåŒ…å«ï¼š
- æµ‹è¯•æ‰§è¡Œç»“æœ
- å¤±è´¥æˆªå›¾
- æ“ä½œè§†é¢‘
- æ€§èƒ½æŒ‡æ ‡

## ğŸ› ï¸ ç¼–å†™æµ‹è¯•ç”¨ä¾‹

### ç¤ºä¾‹ï¼šç™»å½•æµ‹è¯•

```typescript
import { test, expect } from '@playwright/test';
import { login } from '../utils/auth';

test.describe('ç™»å½•åŠŸèƒ½', () => {
  test('åº”è¯¥èƒ½å¤ŸæˆåŠŸç™»å½•', async ({ page }) => {
    await page.goto('/login');
    await page.fill('input[placeholder="è¯·è¾“å…¥ç”¨æˆ·å"]', 'admin');
    await page.fill('input[placeholder="è¯·è¾“å…¥å¯†ç "]', '123456');
    await page.click('button:has-text("ç™»å½•")');
    
    await expect(page).toHaveURL(/.*cover-management/);
    await expect(page.locator('.username')).toContainText('admin');
  });
});
```

## ğŸ“š æœ€ä½³å®è·µ

1. **æµ‹è¯•éš”ç¦»**ï¼šæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹åº”è¯¥æ˜¯ç‹¬ç«‹çš„ï¼Œä¸ä¾èµ–å…¶ä»–æµ‹è¯•çš„æ‰§è¡Œé¡ºåº
2. **æ•°æ®æ¸…ç†**ï¼šæµ‹è¯•åæ¸…ç†æµ‹è¯•æ•°æ®ï¼Œé¿å…å½±å“åç»­æµ‹è¯•
3. **ç­‰å¾…ç­–ç•¥**ï¼šä½¿ç”¨ `waitFor` ç­‰å¾…å…ƒç´ å‡ºç°ï¼Œè€Œä¸æ˜¯å›ºå®šå»¶è¿Ÿ
4. **é€‰æ‹©å™¨ç­–ç•¥**ï¼šä¼˜å…ˆä½¿ç”¨ç¨³å®šçš„é€‰æ‹©å™¨ï¼ˆdata-testidã€è§’è‰²å®šä½å™¨ï¼‰
5. **é”™è¯¯å¤„ç†**ï¼šæ·»åŠ é€‚å½“çš„é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶

## ğŸ” è°ƒè¯•æŠ€å·§

1. **ä½¿ç”¨UIæ¨¡å¼**ï¼š`npm run test:ui` å¯ä»¥å¯è§†åŒ–è°ƒè¯•
2. **ä½¿ç”¨è°ƒè¯•æ¨¡å¼**ï¼š`npm run test:debug` å¯ä»¥é€æ­¥æ‰§è¡Œ
3. **æŸ¥çœ‹è¿½è¸ª**ï¼šæµ‹è¯•å¤±è´¥æ—¶ä¼šè‡ªåŠ¨ç”Ÿæˆè¿½è¸ªæ–‡ä»¶
4. **æˆªå›¾å’Œè§†é¢‘**ï¼šå¤±è´¥æ—¶ä¼šè‡ªåŠ¨ä¿å­˜æˆªå›¾å’Œè§†é¢‘

## ğŸ“– å‚è€ƒæ–‡æ¡£

- [Playwright å®˜æ–¹æ–‡æ¡£](https://playwright.dev/)
- [æœ€ä½³å®è·µæŒ‡å—](https://playwright.dev/docs/best-practices)
- [API å‚è€ƒ](https://playwright.dev/docs/api/class-playwright)

